<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Games</title>
    
    <!-- Simple styles for the page -->
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; background: #f0f0f0; }
        .game-area { background: white; padding: 20px; border-radius: 10px; margin: 20px auto; max-width: 800px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .login-box { background: #fff; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .login-btn { padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; }
        .github-btn { background: #24292e; color: white; }
        .logout-btn { background: #dc3545; color: white; }
    </style>
    
    <!-- ========== SUPABASE LOGIN SYSTEM ========== -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        // ğŸ”‘ STEP 1: PASTE YOUR CREDENTIALS HERE!
        // Get these from Supabase: Settings -> API Keys
        const supabaseUrl = 'PASTE_YOUR_SUPABASE_PROJECT_URL_HERE'; // e.g., https://abc123.supabase.co
        const supabaseKey = 'PASTE_YOUR_SUPABASE_ANON_PUBLIC_KEY_HERE'; // e.g., eyJhbGciOiJIUzI1NiIs...
        
        // ğŸ”§ STEP 2: This line creates the connection (ONLY ONE TIME!)
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
        
        // Function for the LOGIN button
        async function handleGitHubLogin() {
            console.log("Login button clicked!");
            const { error } = await supabase.auth.signInWithOAuth({
                provider: 'github',
            });
            if (error) {
                console.error('Login error:', error.message);
                alert('Login failed. Check Console (F12) for details.');
            } else {
                console.log("GitHub pop-up should open...");
            }
        }
        
        // Function for the LOGOUT button
        async function handleLogout() {
            const { error } = await supabase.auth.signOut();
            if (error) {
                console.error('Logout error:', error.message);
            } else {
                alert('Logged out successfully!');
                window.location.reload();
            }
        }
        
        // Check login status when page loads
        supabase.auth.getSession().then(({ data: { session } }) => {
            if (session) {
                console.log('Already logged in as:', session.user.email);
                document.getElementById('login-status').innerText = "Logged in! ğŸ‰";
            }
        });
    </script>
    <!-- ========== END SUPABASE CODE ========== -->
</head>
<body>
    <h1>ğŸ® Welcome to Fun Games! ğŸ®</h1>
    
    <!-- Login Box -->
    <div class="login-box">
        <h3>Login to Save Your Scores</h3>
        <p id="login-status">You are not logged in.</p>
        <button class="login-btn github-btn" onclick="handleGitHubLogin()">
            ğŸ™ Login with GitHub
        </button>
        <button class="login-btn logout-btn" onclick="handleLogout()">
            ğŸšª Logout
        </button>
        <p style="font-size: 14px; color: #666; margin-top: 10px;">
            After login, you can close the GitHub pop-up and return here.
        </p>
    </div>
    
    <!-- Your Games Area -->
    <div class="game-area">
        <h2>Your Games</h2>
        <p>All your existing games should be displayed below. The login buttons above will work with them.</p>
        <hr>
        <!-- 
        â¬‡ï¸â¬‡ï¸â¬‡ï¸ YOUR EXISTING GAME CODE GOES HERE â¬‡ï¸â¬‡ï¸â¬‡ï¸
        Paste all your game's HTML, buttons, and elements right here.
        Do not paste any <script> tags that create another 'supabase' variable.
        -->
        
        <p><em>Your Pong Game and other games will appear here.</em></p>
        
        <!-- 
        â¬†ï¸â¬†ï¸â¬†ï¸ YOUR EXISTING GAME CODE STAYS ABOVE â¬†ï¸â¬†ï¸â¬†ï¸
        -->
    </div>
    
    <!-- Your game's JavaScript -->
    <!-- 
    âš ï¸ Only link JavaScript files that are for your GAME LOGIC.
    Do NOT link any file that also tries to connect to Supabase.
    Example: <script src="pong-game-logic.js"></script> is fine.
    -->
    
    <footer style="margin-top: 30px; color: #777; font-size: 14px;">
        <p>Fun Games Website | Now with GitHub Login!</p>
    </footer>
</body>
</html>
